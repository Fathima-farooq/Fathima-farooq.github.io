<!-- html -->
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Eventify</title>
    <!-- FAVICON -->
    <link rel="apple-touch-icon" sizes="180x180" href="/fav/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/fav/favicon-16x16.png">
    <link rel="manifest" href="/fav/site.webmanifest">
    <link rel="stylesheet" href="/CSS/index.css">
    <!-- bootstrap link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <!-- My css -->
    <link rel="stylesheet" href="/CSS/index.css">
    <!-- boxicons css -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/643261c531ebfa0fe7f74794/1gticrrm6';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    <!--End of Tawk.to Script-->
    <style>

    </style>
</head>

<body onload="update_badge()">
    <!-- navbar section -->
    <nav class="navbar navbar-expand-md bg-body-tertiary sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center column-gap-2" href="#">
                <img src="/img/circle.png" alt="" style="border-radius: 90px;" width="50"
                    class="d-inline-block align-text-top">
                <span class="lead fw-bold">Eventify</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Tlling bs to push to end till medium screen size -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <!-- <li class="nav-item lead">
                        <a class="nav-link" aria-current="page" href="cart"><i class='bx bx-cart'></i>My Cart</a>
                    </li> -->
                    <li class="nav-item lead">
                        <a class="nav-link" aria-current="page" href="/index.html">Home</a>
                    </li>
                    <li class="nav-item lead">
                        <a class="nav-link" href="/HTML/services.html">Services</a>
                    </li>
                    <li class="nav-item lead">
                        <a class="nav-link" href="/HTML/support.html">Support</a>
                    </li>
                    <li class="nav-item lead fw-bold">
                        <a class="nav-link active" href="#">
                            <span id="cart-text">Cart <span class="badge bg-dark rounded-pill ms-1"
                                    id="my-span">0</span></span>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    <!-- cart section -->
    <div id="cart-items" class="container"></div>

    <!-- clear local storage button -->
    <div class="container d-flex justify-content-center">
        <button class="btn btn-danger m-4" id="clear-button">Clear Cart</button>
        <a class="btn btn-primary m-4" href="services.html">Add More Services</a>
    </div>

    <!-- Bootstrap javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <!-- My javascript -->
    <script src="/Js/index.js"></script>
    <script>
        ////////////////////////////////////dynamically generate content
        // Get existing selected items from local storage (or an empty array if none exist)
        let selectedItems = JSON.parse(localStorage.getItem('selectedItems')) || [];

        // Get the container element to display the cart items
        const cartItemsContainer = document.getElementById('cart-items');

        // Loop through each item in the array and create Bootstrap cards to display it
        selectedItems.forEach(selectedItem => {
            // Create a div element with the "card" class to display the item
            const cardDiv = document.createElement('div');
            cardDiv.classList.add('card', 'm-3');

            // Create a div element with the "card-body" class to display the properties of the item
            const cardBodyDiv = document.createElement('div');
            cardBodyDiv.classList.add('card-body');
            cardDiv.appendChild(cardBodyDiv);

            // Create HTML elements to display the properties of the item
            const cateringServiceElem = document.createElement('h5');
            cateringServiceElem.classList.add('card-title');
            cateringServiceElem.textContent = `Catering service: ${selectedItem.cateringService}`;
            cardBodyDiv.appendChild(cateringServiceElem);

            const cateringStyleElem = document.createElement('p');
            cateringStyleElem.classList.add('card-text');
            cateringStyleElem.textContent = `Catering style: ${selectedItem.cateringStyle}`;
            cardBodyDiv.appendChild(cateringStyleElem);

            const priceElem = document.createElement('p');
            priceElem.classList.add('card-text');
            priceElem.textContent = `Price: ${selectedItem.price}`;
            cardBodyDiv.appendChild(priceElem);

            // Add the card div to the container element
            cartItemsContainer.appendChild(cardDiv);
        });

        /////////////////////////////////////Clear cart button
        // Get the clear button element
        const clearButton = document.getElementById('clear-button');

        // Add a click event listener to the clear button to remove the cart items from the page and clear the local storage
        clearButton.addEventListener('click', () => {
            // Remove all child elements from the cart items container
            while (cartItemsContainer.firstChild) {
                cartItemsContainer.removeChild(cartItemsContainer.firstChild);
            }
            // Clear the selected items from local storage
            localStorage.removeItem('selectedItems');
        });

    </script>
</body>

</html>